<!DOCTYPE html><html lang="en" data-theme="dark" data-astro-cid-sckkx6r4> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="Astro v5.18.0"><title>GSD Tandem Dashboard</title><script>
      // Theme initialization: runs synchronously to prevent FOUC
      (function() {
        var saved = localStorage.getItem('gsd-dashboard-theme');
        if (saved === 'light' || saved === 'dark') {
          document.documentElement.setAttribute('data-theme', saved);
        }
      })();
    </script><link rel="stylesheet" href="/dashboard/_astro/index.CEV4xNM-.css"></head> <body data-astro-cid-sckkx6r4> <aside class="sidebar" id="sidebar" data-astro-cid-ssfzsv2f> <div class="sidebar-brand" data-astro-cid-ssfzsv2f> <span class="brand-text" data-astro-cid-ssfzsv2f>GSD Tandem</span> </div> <nav class="sidebar-nav" id="sidebar-nav" data-astro-cid-ssfzsv2f> <button class="nav-item active" data-tab="overview" type="button" data-astro-cid-ssfzsv2f> <span class="nav-label" data-astro-cid-ssfzsv2f>Overview</span> <span class="nav-badge" data-badge="overview" data-astro-cid-ssfzsv2f>--</span> </button> <button class="nav-item" data-tab="logs" type="button" data-astro-cid-ssfzsv2f> <span class="nav-label" data-astro-cid-ssfzsv2f>Logs</span> <span class="nav-badge" data-badge="logs" data-astro-cid-ssfzsv2f>--</span> </button> <button class="nav-item" data-tab="reviews" type="button" data-astro-cid-ssfzsv2f> <span class="nav-label" data-astro-cid-ssfzsv2f>Reviews</span> <span class="nav-badge" data-badge="reviews" data-astro-cid-ssfzsv2f>--</span> </button> <button class="nav-item" data-tab="pool" type="button" data-astro-cid-ssfzsv2f> <span class="nav-label" data-astro-cid-ssfzsv2f>Pool</span> <span class="nav-badge" data-badge="pool" data-astro-cid-ssfzsv2f>--</span> </button> </nav> <div class="sidebar-footer" data-astro-cid-ssfzsv2f> <div class="connection-status" id="connection-status" data-astro-cid-bhfdb7uk> <span class="status-dot disconnected" id="status-dot" data-astro-cid-bhfdb7uk></span> <span class="status-text" id="status-text" data-astro-cid-bhfdb7uk>Disconnected</span> </div>  <script type="module">const s=document.getElementById("status-dot"),t=document.getElementById("status-text");window.addEventListener("sse-status",(n=>{const{status:e}=n.detail;switch(s.className="status-dot "+e,e){case"connected":t.textContent="Connected";break;case"disconnected":t.textContent="Disconnected";break;case"reconnecting":t.textContent="Reconnecting...";break}}));</script> <button class="theme-toggle" id="theme-toggle" type="button" title="Toggle theme"> <svg class="icon icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <circle cx="12" cy="12" r="5"></circle> <line x1="12" y1="1" x2="12" y2="3"></line> <line x1="12" y1="21" x2="12" y2="23"></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line> <line x1="1" y1="12" x2="3" y2="12"></line> <line x1="21" y1="12" x2="23" y2="12"></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line> </svg> <svg class="icon icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path> </svg> </button>  </div> </aside>  <main class="main-content" data-astro-cid-sckkx6r4>  <section id="tab-overview" class="tab-panel" data-astro-cid-j7pv25f6> <div class="status-card" id="broker-status" data-astro-cid-rg6tq4ql> <div class="status-header" data-astro-cid-rg6tq4ql> <span class="status-dot" id="broker-status-dot" data-astro-cid-rg6tq4ql></span> <span class="status-label" id="broker-status-label" data-astro-cid-rg6tq4ql>Connecting...</span> </div> <div class="status-grid" data-astro-cid-rg6tq4ql> <div class="status-item" data-astro-cid-rg6tq4ql> <span class="status-key" data-astro-cid-rg6tq4ql>Version</span> <span class="status-value" id="broker-version" data-astro-cid-rg6tq4ql>--</span> </div> <div class="status-item" data-astro-cid-rg6tq4ql> <span class="status-key" data-astro-cid-rg6tq4ql>Uptime</span> <span class="status-value status-value-lg" id="broker-uptime" data-astro-cid-rg6tq4ql>--</span> </div> <div class="status-item" data-astro-cid-rg6tq4ql> <span class="status-key" data-astro-cid-rg6tq4ql>Address</span> <span class="status-value" id="broker-address" data-astro-cid-rg6tq4ql>--</span> </div> </div> <div class="config-grid" id="broker-config" data-astro-cid-rg6tq4ql> <!-- Config items populated by overview.ts --> </div> </div>   <div class="stats-section" id="review-stats" data-astro-cid-5br5bgxt> <div class="stats-grid" data-astro-cid-5br5bgxt> <div class="stat-card" data-astro-cid-5br5bgxt> <span class="stat-value" id="stat-total-reviews" data-astro-cid-5br5bgxt>--</span> <span class="stat-label" data-astro-cid-5br5bgxt>Total Reviews</span> </div> <div class="stat-card" data-astro-cid-5br5bgxt> <span class="stat-value" id="stat-approval-rate" data-astro-cid-5br5bgxt>--</span> <span class="stat-label" data-astro-cid-5br5bgxt>Approval Rate</span> </div> <div class="stat-card" data-astro-cid-5br5bgxt> <span class="stat-value" id="stat-avg-time" data-astro-cid-5br5bgxt>--</span> <span class="stat-label" data-astro-cid-5br5bgxt>Avg Review Time</span> </div> <div class="stat-card stat-card-breakdown" data-astro-cid-5br5bgxt> <span class="stat-label stat-label-top" data-astro-cid-5br5bgxt>Status Breakdown</span> <div class="status-breakdown" id="stat-status-breakdown" data-astro-cid-5br5bgxt> <div class="breakdown-item" data-astro-cid-5br5bgxt> <span class="breakdown-dot breakdown-dot-pending" data-astro-cid-5br5bgxt></span> <span class="breakdown-label" data-astro-cid-5br5bgxt>Pending</span> <span class="breakdown-count" id="status-pending" data-astro-cid-5br5bgxt>0</span> </div> <div class="breakdown-item" data-astro-cid-5br5bgxt> <span class="breakdown-dot breakdown-dot-claimed" data-astro-cid-5br5bgxt></span> <span class="breakdown-label" data-astro-cid-5br5bgxt>Claimed</span> <span class="breakdown-count" id="status-claimed" data-astro-cid-5br5bgxt>0</span> </div> <div class="breakdown-item" data-astro-cid-5br5bgxt> <span class="breakdown-dot breakdown-dot-approved" data-astro-cid-5br5bgxt></span> <span class="breakdown-label" data-astro-cid-5br5bgxt>Approved</span> <span class="breakdown-count" id="status-approved" data-astro-cid-5br5bgxt>0</span> </div> <div class="breakdown-item" data-astro-cid-5br5bgxt> <span class="breakdown-dot breakdown-dot-changes-requested" data-astro-cid-5br5bgxt></span> <span class="breakdown-label" data-astro-cid-5br5bgxt>Changes</span> <span class="breakdown-count" id="status-changes_requested" data-astro-cid-5br5bgxt>0</span> </div> <div class="breakdown-item" data-astro-cid-5br5bgxt> <span class="breakdown-dot breakdown-dot-closed" data-astro-cid-5br5bgxt></span> <span class="breakdown-label" data-astro-cid-5br5bgxt>Closed</span> <span class="breakdown-count" id="status-closed" data-astro-cid-5br5bgxt>0</span> </div> </div> </div> </div> </div>  <div class="reviewers-section" id="reviewer-list" data-astro-cid-zehudoh4> <h3 class="section-heading" data-astro-cid-zehudoh4>Active Reviewers</h3> <div class="reviewers-empty" id="reviewers-empty" data-astro-cid-zehudoh4> <p data-astro-cid-zehudoh4>No active reviewers. Pool is idle or not configured.</p> </div> <div class="reviewers-table-wrap" id="reviewers-table-wrap" style="display:none" data-astro-cid-zehudoh4> <table class="reviewers-table" data-astro-cid-zehudoh4> <thead data-astro-cid-zehudoh4> <tr data-astro-cid-zehudoh4> <th data-astro-cid-zehudoh4>Name</th> <th data-astro-cid-zehudoh4>Status</th> <th data-astro-cid-zehudoh4>PID</th> <th data-astro-cid-zehudoh4>Current Review</th> <th class="col-right" data-astro-cid-zehudoh4>Reviews</th> <th class="col-right" data-astro-cid-zehudoh4>Approvals</th> <th data-astro-cid-zehudoh4>Uptime</th> </tr> </thead> <tbody id="reviewers-tbody" data-astro-cid-zehudoh4> <!-- Rows populated by overview.ts --> </tbody> </table> </div> </div>   </section> <section id="tab-logs" class="tab-panel" style="display:none" data-astro-cid-j7pv25f6> <div class="log-controls" data-astro-cid-uxppohn3> <select id="log-file-select" data-astro-cid-uxppohn3> <option value="" disabled selected data-astro-cid-uxppohn3>Select log file...</option> </select> <button id="log-tail-toggle" type="button" data-astro-cid-uxppohn3> <span id="log-tail-dot" class="tail-dot" data-astro-cid-uxppohn3></span> <span id="log-tail-label" data-astro-cid-uxppohn3>Live Tail</span> </button> <input id="log-search" type="text" placeholder="Search logs..." data-astro-cid-uxppohn3> </div> <div id="log-output" class="log-output" data-astro-cid-uxppohn3></div> <div id="log-empty" class="log-empty" data-astro-cid-uxppohn3><p data-astro-cid-uxppohn3>Select a log file to view entries.</p></div> <div id="log-loading" class="log-loading" style="display:none" data-astro-cid-uxppohn3><p data-astro-cid-uxppohn3>Loading...</p></div>   </section> <section id="tab-reviews" class="tab-panel" style="display:none" data-astro-cid-j7pv25f6> <h2 class="tab-heading" data-astro-cid-j7pv25f6>Reviews</h2> <p class="tab-placeholder" data-astro-cid-j7pv25f6>Review browser coming soon.</p> </section> <section id="tab-pool" class="tab-panel" style="display:none" data-astro-cid-j7pv25f6> <h2 class="tab-heading" data-astro-cid-j7pv25f6>Pool</h2> <p class="tab-placeholder" data-astro-cid-j7pv25f6>Pool management coming soon.</p> </section>  </main> <script type="module">function M(){const n=new Map;let t=null,a=null,r=1e3,o=!1;const h=3e4,E="/dashboard/events";function s(e){window.dispatchEvent(new CustomEvent("sse-status",{detail:{status:e}}))}function g(e){try{const c=JSON.parse(e.data),y=c.type||"message",f=n.get(y);f&&f.forEach(i=>{try{i(c)}catch(l){console.error("[SSE] Callback error:",l)}});const S=n.get("*");S&&S.forEach(i=>{try{i(c)}catch(l){console.error("[SSE] Wildcard callback error:",l)}})}catch{}}function u(){if(!o)try{t=new EventSource(E),t.onopen=()=>{r=1e3,s("connected")},t.onmessage=g,t.onerror=()=>{o||(t?.close(),t=null,s("disconnected"),d())}}catch{s("disconnected"),d()}}function d(){o||(s("reconnecting"),a=setTimeout(()=>{r=Math.min(r*2,h),u()},r))}function b(e,c){n.has(e)||n.set(e,new Set),n.get(e).add(c)}function w(e,c){n.get(e)?.delete(c)}function m(){o=!0,a&&clearTimeout(a),t?.close(),t=null,n.clear()}return u(),{subscribe:b,unsubscribe:w,destroy:m}}const p=M();window.gsdSSE=p;</script> <script type="module">const s="gsd-dashboard-active-tab",r="overview";function d(){try{const t=localStorage.getItem(s);if(t)return t}catch{}return r}function o(t){document.querySelectorAll(".tab-panel").forEach(a=>{a.style.display="none"});const e=document.getElementById(`tab-${t}`);e&&(e.style.display=""),document.querySelectorAll(".nav-item").forEach(a=>{a.getAttribute("data-tab")===t?a.classList.add("active"):a.classList.remove("active")});try{localStorage.setItem(s,t)}catch{}}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("sidebar-nav");t&&(t.addEventListener("click",c=>{const e=c.target.closest(".nav-item");if(!e)return;const n=e.getAttribute("data-tab");n&&o(n)}),o(d()))});</script> <script type="module">const e="gsd-dashboard-theme",n="dark";function d(){try{const t=localStorage.getItem(e);if(t==="dark"||t==="light")return t}catch{}return n}function o(t){document.documentElement.setAttribute("data-theme",t);try{localStorage.setItem(e,t)}catch{}}function r(){const c=(document.documentElement.getAttribute("data-theme")||n)==="dark"?"light":"dark";o(c)}o(d());document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("theme-toggle");t&&t.addEventListener("click",r)});</script> </body> </html>  <script type="module" src="/dashboard/_astro/index.astro_astro_type_script_index_0_lang.DMDmAa5b.js"></script> <script type="module">let c=0,v=null;async function b(){const t=await fetch("/dashboard/api/overview");if(!t.ok)throw new Error("HTTP "+t.status+": "+t.statusText);return t.json()}function p(t){if(t<0)return"--";const e=Math.floor(t/3600),o=Math.floor(t%3600/60),r=Math.floor(t%60);return e>0?e+"h "+o+"m "+r+"s":o>0?o+"m "+r+"s":r+"s"}function h(t){if(t==null)return"--";if(t<60)return Math.round(t)+"s";const e=Math.floor(t/60),o=Math.round(t%60);return e+"m "+o+"s"}function d(t){const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML}function g(t){const e=document.getElementById("broker-status-dot"),o=document.getElementById("broker-status-label"),r=document.getElementById("broker-version"),n=document.getElementById("broker-uptime"),i=document.getElementById("broker-address"),s=document.getElementById("broker-config");if(e&&e.setAttribute("data-status","online"),o&&(o.textContent="Online"),r&&(r.textContent="v"+t.version),i&&(i.textContent=t.address),c=t.uptime_seconds,n&&(n.textContent=p(c)),_(),s){s.innerHTML="";const l=Object.entries(t.config);for(const[u,a]of l){const m=u.replace(/_/g," "),E=a==null?"--":String(a),f=document.createElement("div");f.className="config-item",f.innerHTML='<span class="config-key">'+d(m)+'</span><span class="config-value">'+d(E)+"</span>",s.appendChild(f)}}}function _(){v||(v=setInterval(()=>{c++;const t=document.getElementById("broker-uptime");t&&(t.textContent=p(c))},1e3))}function w(t){const e=document.getElementById("stat-total-reviews"),o=document.getElementById("stat-approval-rate"),r=document.getElementById("stat-avg-time");e&&(e.textContent=String(t.total_reviews)),o&&(o.textContent=t.approval_rate_pct!==null?Math.round(t.approval_rate_pct)+"%":"--"),r&&(r.textContent=h(t.avg_time_to_verdict_seconds));const n=["pending","claimed","approved","changes_requested","closed"];for(const i of n){const s=document.getElementById("status-"+i);s&&(s.textContent=String(t.by_status[i]||0))}}function y(t){const e=document.getElementById("reviewers-empty"),o=document.getElementById("reviewers-table-wrap"),r=document.getElementById("reviewers-tbody");if(!(!e||!o||!r)){if(!t.pool_active||t.reviewers.length===0){e.style.display="",o.style.display="none";const n=e.querySelector("p");n&&(n.textContent=t.pool_active?"Pool is active but no reviewers are running.":"No active reviewers. Pool is idle or not configured.");return}e.style.display="none",o.style.display="",r.innerHTML="";for(const n of t.reviewers){const i=document.createElement("tr");let s="reviewer-dot-idle";n.status==="active"?s="reviewer-dot-active":n.status==="draining"?s="reviewer-dot-draining":n.status==="terminated"&&(s="reviewer-dot-terminated");const l=new Date(n.spawned_at).getTime(),u=Date.now(),a=Math.max(0,Math.floor((u-l)/1e3)),m=n.current_review?d(n.current_review):'<span class="reviewer-current-none">--</span>';i.innerHTML="<td>"+d(n.display_name)+'</td><td><span class="reviewer-status"><span class="reviewer-dot '+s+'"></span>'+d(n.status)+"</span></td><td>"+n.pid+"</td><td>"+m+'</td><td class="reviewer-col-right">'+n.reviews_completed+'</td><td class="reviewer-col-right">'+n.approvals+"</td><td>"+p(a)+"</td>",r.appendChild(i)}}}function I(){const t=document.getElementById("broker-status-dot"),e=document.getElementById("broker-status-label");t&&t.setAttribute("data-status","offline"),e&&(e.textContent="Unable to connect")}function B(t){const e=t;e.broker&&g(e.broker),e.stats&&w(e.stats),e.reviewers&&y(e.reviewers)}async function C(){try{const t=await b();g(t.broker),w(t.stats),y(t.reviewers)}catch{I()}window.gsdSSE&&window.gsdSSE.subscribe("overview_update",B)}document.addEventListener("DOMContentLoaded",C);</script> 